<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memorial Finder | Sears Melvin Memorials</title>
    <meta name="description" content="Not sure which memorial is right? Our guided tool helps you find the perfect tribute based on your needs and preferences.">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%232C2C2C' rx='6'/%3E%3Ctext x='16' y='23' text-anchor='middle' fill='%23D4AF37' font-size='15' font-family='Georgia%2Cserif' font-weight='bold'%3ESM%3C/text%3E%3C/svg%3E">
    <style>
        :root {
            --color-stone: #2C2C2C;
            --color-stone-light: #3D3D3D;
            --color-cream: #FAF8F5;
            --color-warm: #E8E4DD;
            --color-accent: #8B7355;
            --color-accent-light: #A69070;
            --color-text: #1A1A1A;
            --color-text-muted: #666666;
            --color-border: #E0DCD5;
            --color-success: #4A7C59;
            --font-display: 'Cormorant Garamond', Georgia, serif;
            --font-body: 'DM Sans', -apple-system, sans-serif;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: var(--font-body); background-color: var(--color-cream); color: var(--color-text); line-height: 1.6; min-height: 100vh; }
        h1, h2, h3, h4 { font-family: var(--font-display); font-weight: 400; color: var(--color-stone); }

        /* Navigation */
        nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; background-color: rgba(250, 248, 245, 0.95); backdrop-filter: blur(10px); box-shadow: 0 1px 0 rgba(0,0,0,0.05); }
        .logo { font-family: var(--font-display); font-size: 1.5rem; font-weight: 500; color: var(--color-stone); text-decoration: none; display: flex; align-items: center; gap: 0.75rem; }
        .logo span { font-weight: 300; opacity: 0.7; }
        .logo-icon { width: 28px; height: 36px; }
        .nav-links { display: flex; gap: 2rem; list-style: none; align-items: center; }
        .nav-links a { font-size: 0.875rem; color: var(--color-text); letter-spacing: 0.05em; text-transform: uppercase; text-decoration: none; transition: color 0.3s; }
        .nav-links a:hover { color: var(--color-accent); }
        .nav-cta { background-color: var(--color-stone); color: var(--color-cream) !important; padding: 0.75rem 1.5rem; border-radius: 2px; }

        /* Wizard Container */
        .wizard-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 7rem 2rem 4rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Progress Bar */
        .progress-container {
            margin-bottom: 3rem;
        }
        .progress-bar {
            height: 4px;
            background: var(--color-border);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-accent), var(--color-accent-light));
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--color-text-muted);
        }
        .progress-step {
            font-weight: 500;
            color: var(--color-stone);
        }

        /* Step Container */
        .step {
            display: none;
            animation: fadeIn 0.5s ease;
            flex: 1;
        }
        .step.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        .step-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 1.5rem;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        .step-icon svg {
            width: 32px;
            height: 32px;
            stroke: var(--color-accent);
            fill: none;
            stroke-width: 1.5;
        }
        .step-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        .step-header p {
            color: var(--color-text-muted);
            font-size: 1.1rem;
        }

        /* Option Cards */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .options-grid.single-column {
            grid-template-columns: 1fr;
        }
        .options-grid.three-column {
            grid-template-columns: repeat(3, 1fr);
        }

        .option-card {
            background: white;
            border: 2px solid var(--color-border);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        .option-card:hover {
            border-color: var(--color-stone);
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .option-card.selected {
            border-color: var(--color-accent);
            background: linear-gradient(135deg, rgba(139, 115, 85, 0.05), rgba(139, 115, 85, 0.1));
        }
        .option-card.selected .option-check {
            background: var(--color-accent);
            border-color: var(--color-accent);
        }
        .option-card.selected .option-check::after {
            content: '✓';
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .option-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .option-icon svg {
            width: 100%;
            height: 100%;
        }

        .option-title {
            font-family: var(--font-display);
            font-size: 1.25rem;
            color: var(--color-stone);
            margin-bottom: 0.5rem;
        }
        .option-desc {
            font-size: 0.9rem;
            color: var(--color-text-muted);
            line-height: 1.5;
        }
        .option-check {
            width: 24px;
            height: 24px;
            border: 2px solid var(--color-border);
            border-radius: 50%;
            margin: 1rem auto 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        /* Budget Slider */
        .budget-slider-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .budget-display {
            text-align: center;
            margin-bottom: 2rem;
        }
        .budget-amount {
            font-family: var(--font-display);
            font-size: 3rem;
            color: var(--color-stone);
        }
        .budget-label {
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }
        .budget-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--color-border);
            outline: none;
            -webkit-appearance: none;
            margin-bottom: 1rem;
        }
        .budget-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--color-accent);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(139, 115, 85, 0.3);
            transition: transform 0.2s;
        }
        .budget-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        .budget-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--color-text-muted);
        }

        /* Navigation Buttons */
        .wizard-nav {
            display: flex;
            justify-content: space-between;
            padding-top: 2rem;
            border-top: 1px solid var(--color-border);
            margin-top: auto;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 500;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
        .btn-back {
            background: transparent;
            color: var(--color-text-muted);
        }
        .btn-back:hover {
            color: var(--color-stone);
        }
        .btn-next {
            background: var(--color-stone);
            color: white;
        }
        .btn-next:hover {
            background: var(--color-stone-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .btn-next:disabled {
            background: var(--color-border);
            color: var(--color-text-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .btn-accent {
            background: var(--color-accent);
            color: white;
        }
        .btn-accent:hover {
            background: var(--color-accent-light);
        }

        /* Results Page */
        .results-container {
            text-align: center;
        }
        .results-header {
            margin-bottom: 2rem;
        }
        .results-header h2 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        .results-summary {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: left;
        }
        .summary-title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-text-muted);
            margin-bottom: 1rem;
        }
        .summary-items {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }
        .summary-tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--color-warm);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--color-stone);
        }
        .summary-tag svg {
            width: 14px;
            height: 14px;
            stroke: var(--color-accent);
            fill: none;
            stroke-width: 2;
        }

        .recommendations {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .recommendation-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            text-align: left;
            transition: all 0.3s;
        }
        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.12);
        }
        .recommendation-card.best-match {
            border: 2px solid var(--color-accent);
            position: relative;
        }
        .best-match-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--color-accent);
            color: white;
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            padding: 0.4rem 0.75rem;
            border-radius: 4px;
            z-index: 1;
        }
        .rec-image {
            height: 200px;
            background: linear-gradient(145deg, #d4cfc6, #e0dcd4);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .rec-image svg {
            width: 120px;
            height: 150px;
        }
        .rec-content {
            padding: 1.5rem;
        }
        .rec-category {
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-accent);
            margin-bottom: 0.25rem;
        }
        .rec-title {
            font-family: var(--font-display);
            font-size: 1.35rem;
            color: var(--color-stone);
            margin-bottom: 0.5rem;
        }
        .rec-reason {
            font-size: 0.85rem;
            color: var(--color-text-muted);
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        .rec-price {
            font-family: var(--font-display);
            font-size: 1.25rem;
            color: var(--color-stone);
        }
        .rec-price span {
            font-size: 0.85rem;
            color: var(--color-text-muted);
            font-family: var(--font-body);
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Not Sure Option */
        .not-sure {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--color-border);
        }
        .not-sure-btn {
            background: none;
            border: none;
            color: var(--color-accent);
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
            transition: color 0.2s;
        }
        .not-sure-btn:hover {
            color: var(--color-stone);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .options-grid { grid-template-columns: 1fr; }
            .options-grid.three-column { grid-template-columns: 1fr; }
            .recommendations { grid-template-columns: 1fr; }
            .wizard-nav { flex-direction: column-reverse; gap: 1rem; }
            .wizard-nav .btn { width: 100%; justify-content: center; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">
            <svg class="logo-icon" viewBox="0 0 32 42" fill="var(--color-accent)">
                <path d="M3 42 L3 12 Q3 6 10 3 Q16 0 22 3 Q29 6 29 12 L29 42 Z" opacity="0.3"/>
                <path d="M6 42 L6 14 Q6 9 11 6 Q16 3 21 6 Q26 9 26 14 L26 42 Z"/>
            </svg>
            Sears Melvin <span>Memorials</span>
        </a>
        <ul class="nav-links">
            <li><a href="index.html#about">About</a></li>
            <li><a href="memorials.html">Memorials</a></li>
            <li><a href="permit-checker.html">Permit Checker</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="contact.html" class="nav-cta">Get a Quote</a></li>
        </ul>
    </nav>

    <div class="wizard-container">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 20%"></div>
            </div>
            <div class="progress-text">
                <span class="progress-step" id="progressStep">Step 1 of 5</span>
                <span id="progressLabel">Cemetery Type</span>
            </div>
        </div>

        <!-- Step 1: Cemetery Type -->
        <div class="step active" id="step1">
            <div class="step-header">
                <div class="step-icon">
                    <svg viewBox="0 0 24 24"><path d="M3 21h18M5 21V7l7-4 7 4v14M9 21v-6h6v6"/></svg>
                </div>
                <h2>What type of cemetery?</h2>
                <p>Different cemeteries have different rules about memorial types.</p>
            </div>

            <div class="options-grid">
                <div class="option-card" onclick="selectOption(this, 'cemetery', 'lawn-only')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="60" width="80" height="20" fill="#9ab094"/>
                            <path d="M25 60 L25 25 Q25 15 32 10 Q40 4 48 10 Q55 15 55 25 L55 60 Z" fill="#2a2a2a"/>
                            <rect x="22" y="60" width="36" height="6" fill="#1a1a1a"/>
                        </svg>
                    </div>
                    <div class="option-title">Lawn Cemetery</div>
                    <div class="option-desc">Only headstones permitted, no kerb sets or borders</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="selectOption(this, 'cemetery', 'kerb-allowed')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="55" width="80" height="25" fill="#9ab094"/>
                            <rect x="10" y="45" width="60" height="25" fill="#3a3a3a"/>
                            <rect x="15" y="50" width="50" height="15" fill="#4a4a4a"/>
                            <path d="M28 45 L28 22 Q28 14 34 10 Q40 5 46 10 Q52 14 52 22 L52 45 Z" fill="#2a2a2a"/>
                        </svg>
                    </div>
                    <div class="option-title">Traditional/Kerb Allowed</div>
                    <div class="option-desc">Full kerb sets, borders and covers permitted</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="selectOption(this, 'cemetery', 'cremation')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="60" width="80" height="20" fill="#9ab094"/>
                            <rect x="20" y="45" width="40" height="20" fill="#2a2a2a"/>
                            <path d="M25 45 L30 35 L50 35 L55 45 Z" fill="#3a3a3a"/>
                        </svg>
                    </div>
                    <div class="option-title">Cremation Garden</div>
                    <div class="option-desc">Memorial plaques, tablets or small stones</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="selectOption(this, 'cemetery', 'not-sure')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <circle cx="40" cy="40" r="25" fill="none" stroke="#ccc" stroke-width="3"/>
                            <text x="40" y="48" text-anchor="middle" font-size="24" fill="#999">?</text>
                        </svg>
                    </div>
                    <div class="option-title">Not Sure</div>
                    <div class="option-desc">We'll help you find out - just tell us the cemetery name</div>
                    <div class="option-check"></div>
                </div>
            </div>

            <div class="wizard-nav">
                <a href="memorials.html" class="btn btn-back">
                    <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                    Browse All
                </a>
                <button class="btn btn-next" id="nextBtn1" disabled onclick="nextStep(2)">
                    Continue
                    <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <!-- Step 2: Budget -->
        <div class="step" id="step2">
            <div class="step-header">
                <div class="step-icon">
                    <svg viewBox="0 0 24 24"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                </div>
                <h2>What's your budget?</h2>
                <p>This helps us show you options that work for you. All prices include installation.</p>
            </div>

            <div class="budget-slider-container">
                <div class="budget-display">
                    <div class="budget-amount" id="budgetAmount">£1,500 - £2,500</div>
                    <div class="budget-label">Approximate budget range</div>
                </div>
                <input type="range" class="budget-slider" id="budgetSlider" min="0" max="4" step="1" value="2" oninput="updateBudget(this.value)">
                <div class="budget-labels">
                    <span>Under £1k</span>
                    <span>£1k-1.5k</span>
                    <span>£1.5k-2.5k</span>
                    <span>£2.5k-4k</span>
                    <span>£4k+</span>
                </div>
            </div>

            <div class="wizard-nav">
                <button class="btn btn-back" onclick="prevStep(1)">
                    <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                    Back
                </button>
                <button class="btn btn-next" onclick="nextStep(3)">
                    Continue
                    <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <!-- Step 3: Style Preference -->
        <div class="step" id="step3">
            <div class="step-header">
                <div class="step-icon">
                    <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                </div>
                <h2>What style appeals to you?</h2>
                <p>Choose the aesthetic that feels right.</p>
            </div>

            <div class="options-grid three-column">
                <div class="option-card" onclick="selectOption(this, 'style', 'traditional')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="65" width="80" height="15" fill="#9ab094"/>
                            <path d="M25 65 L25 20 Q25 8 32 3 Q40 -4 48 3 Q55 8 55 20 L55 65 Z" fill="#2a2a2a"/>
                            <rect x="22" y="65" width="36" height="5" fill="#1a1a1a"/>
                        </svg>
                    </div>
                    <div class="option-title">Traditional</div>
                    <div class="option-desc">Classic shapes, timeless elegance</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="selectOption(this, 'style', 'modern')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="65" width="80" height="15" fill="#9ab094"/>
                            <rect x="22" y="12" width="36" height="53" fill="#2a2a2a" rx="2"/>
                            <rect x="20" y="65" width="40" height="5" fill="#1a1a1a"/>
                        </svg>
                    </div>
                    <div class="option-title">Modern</div>
                    <div class="option-desc">Clean lines, contemporary design</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="selectOption(this, 'style', 'unique')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="0" y="65" width="80" height="15" fill="#9ab094"/>
                            <path d="M40 60 C20 40 15 10 30 5 C38 2 40 15 40 15 C40 15 42 2 50 5 C65 10 60 40 40 60 Z" fill="#2a2a2a"/>
                            <rect x="30" y="60" width="20" height="8" fill="#1a1a1a"/>
                        </svg>
                    </div>
                    <div class="option-title">Unique</div>
                    <div class="option-desc">Hearts, books, custom shapes</div>
                    <div class="option-check"></div>
                </div>
            </div>

            <div class="not-sure">
                <button class="not-sure-btn" onclick="selectOption(null, 'style', 'any'); nextStep(4);">I'm open to suggestions →</button>
            </div>

            <div class="wizard-nav">
                <button class="btn btn-back" onclick="prevStep(2)">
                    <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                    Back
                </button>
                <button class="btn btn-next" id="nextBtn3" disabled onclick="nextStep(4)">
                    Continue
                    <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <!-- Step 4: Personal Touches -->
        <div class="step" id="step4">
            <div class="step-header">
                <div class="step-icon">
                    <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                </div>
                <h2>Any special touches?</h2>
                <p>Select any that you'd like to include (optional).</p>
            </div>

            <div class="options-grid">
                <div class="option-card" onclick="toggleMulti(this, 'features', 'photo')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <rect x="15" y="20" width="50" height="40" rx="4" fill="none" stroke="#666" stroke-width="2"/>
                            <circle cx="40" cy="40" r="12" fill="none" stroke="#666" stroke-width="2"/>
                            <circle cx="55" cy="28" r="4" fill="#666"/>
                        </svg>
                    </div>
                    <div class="option-title">Photo Plaque</div>
                    <div class="option-desc">Ceramic photo that lasts 25+ years</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="toggleMulti(this, 'features', 'flowers')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <ellipse cx="40" cy="55" rx="12" ry="6" fill="#666"/>
                            <path d="M40 55 L40 35" stroke="#5a8a5a" stroke-width="2"/>
                            <circle cx="40" cy="28" r="8" fill="#c77"/>
                            <circle cx="32" cy="32" r="6" fill="#e99"/>
                            <circle cx="48" cy="32" r="6" fill="#faa"/>
                        </svg>
                    </div>
                    <div class="option-title">Flower Vase</div>
                    <div class="option-desc">Matching granite flower holder</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="toggleMulti(this, 'features', 'design')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <path d="M40 20 C30 25 25 35 30 45 C20 42 15 50 20 58 C10 62 15 75 30 70 C35 80 50 80 55 70 C70 75 75 62 65 58 C70 50 65 42 55 45 C60 35 55 25 40 20 Z" fill="#666"/>
                            <circle cx="40" cy="48" r="8" fill="#888"/>
                        </svg>
                    </div>
                    <div class="option-title">Custom Motif</div>
                    <div class="option-desc">Rose, dove, cross or custom design</div>
                    <div class="option-check"></div>
                </div>

                <div class="option-card" onclick="toggleMulti(this, 'features', 'gold')">
                    <div class="option-icon">
                        <svg viewBox="0 0 80 80">
                            <text x="40" y="50" text-anchor="middle" font-family="Times New Roman" font-size="24" fill="#d4af37">ABC</text>
                            <path d="M20 60 L60 60" stroke="#d4af37" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="option-title">Gold Lettering</div>
                    <div class="option-desc">Premium gold leaf inscription</div>
                    <div class="option-check"></div>
                </div>
            </div>

            <div class="not-sure">
                <button class="not-sure-btn" onclick="nextStep(5);">Skip - just the basics →</button>
            </div>

            <div class="wizard-nav">
                <button class="btn btn-back" onclick="prevStep(3)">
                    <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                    Back
                </button>
                <button class="btn btn-next" onclick="nextStep(5)">
                    See Recommendations
                    <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <!-- Step 5: Results -->
        <div class="step" id="step5">
            <div class="results-container">
                <div class="results-header">
                    <h2>Your Perfect Matches</h2>
                    <p>Based on your preferences, here are our top recommendations:</p>
                </div>

                <div class="results-summary">
                    <div class="summary-title">Your Preferences</div>
                    <div class="summary-items" id="summaryItems">
                        <!-- Filled by JS -->
                    </div>
                </div>

                <div class="recommendations" id="recommendations">
                    <!-- Filled by JS -->
                </div>

                <div class="results-actions">
                    <button class="btn btn-back" onclick="prevStep(4)">
                        <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                        Adjust Preferences
                    </button>
                    <a href="memorials.html" class="btn btn-next">
                        Browse All Memorials
                        <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </a>
                    <a href="contact.html" class="btn btn-accent">
                        Get a Quote
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        const selections = {
            cemetery: null,
            budget: 2,
            style: null,
            features: []
        };

        const budgetRanges = [
            'Under £1,000',
            '£1,000 - £1,500',
            '£1,500 - £2,500',
            '£2,500 - £4,000',
            '£4,000+'
        ];

        const stepLabels = [
            'Cemetery Type',
            'Budget',
            'Style',
            'Personal Touches',
            'Your Recommendations'
        ];

        // Select single option
        function selectOption(card, category, value) {
            if (card) {
                const container = card.closest('.options-grid');
                container.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
            }
            selections[category] = value;
            
            // Enable next button
            const stepNum = getCurrentStep();
            const nextBtn = document.getElementById(`nextBtn${stepNum}`);
            if (nextBtn) nextBtn.disabled = false;
        }

        // Toggle multi-select
        function toggleMulti(card, category, value) {
            card.classList.toggle('selected');
            
            if (card.classList.contains('selected')) {
                if (!selections[category].includes(value)) {
                    selections[category].push(value);
                }
            } else {
                selections[category] = selections[category].filter(v => v !== value);
            }
        }

        // Budget slider
        function updateBudget(value) {
            selections.budget = parseInt(value);
            document.getElementById('budgetAmount').textContent = budgetRanges[value];
        }

        // Navigation
        function getCurrentStep() {
            const active = document.querySelector('.step.active');
            return parseInt(active.id.replace('step', ''));
        }

        function nextStep(num) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${num}`).classList.add('active');
            updateProgress(num);
            
            if (num === 5) generateResults();
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function prevStep(num) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${num}`).classList.add('active');
            updateProgress(num);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateProgress(step) {
            const percent = (step / 5) * 100;
            document.getElementById('progressFill').style.width = `${percent}%`;
            document.getElementById('progressStep').textContent = `Step ${step} of 5`;
            document.getElementById('progressLabel').textContent = stepLabels[step - 1];
        }

        // Generate results
        function generateResults() {
            // Summary tags
            const summaryEl = document.getElementById('summaryItems');
            let summaryHTML = '';
            
            if (selections.cemetery) {
                const cemeteryLabels = {
                    'lawn-only': 'Lawn Cemetery',
                    'kerb-allowed': 'Kerb Sets Allowed',
                    'cremation': 'Cremation Garden',
                    'not-sure': 'Cemetery TBC'
                };
                summaryHTML += `<span class="summary-tag"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>${cemeteryLabels[selections.cemetery]}</span>`;
            }
            
            summaryHTML += `<span class="summary-tag"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>${budgetRanges[selections.budget]}</span>`;
            
            if (selections.style && selections.style !== 'any') {
                summaryHTML += `<span class="summary-tag"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>${selections.style.charAt(0).toUpperCase() + selections.style.slice(1)} Style</span>`;
            }
            
            selections.features.forEach(f => {
                const labels = { photo: 'Photo Plaque', flowers: 'Flower Vase', design: 'Custom Motif', gold: 'Gold Lettering' };
                summaryHTML += `<span class="summary-tag"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>${labels[f]}</span>`;
            });
            
            summaryEl.innerHTML = summaryHTML;

            // Recommendations based on selections
            const recsEl = document.getElementById('recommendations');
            let recommendations = getRecommendations();
            
            let recsHTML = '';
            recommendations.forEach((rec, i) => {
                recsHTML += `
                    <div class="recommendation-card ${i === 0 ? 'best-match' : ''}">
                        ${i === 0 ? '<span class="best-match-badge">Best Match</span>' : ''}
                        <div class="rec-image">
                            ${rec.svg}
                        </div>
                        <div class="rec-content">
                            <div class="rec-category">${rec.category}</div>
                            <div class="rec-title">${rec.title}</div>
                            <div class="rec-reason">${rec.reason}</div>
                            <div class="rec-price"><span>From</span> ${rec.price}</div>
                        </div>
                    </div>
                `;
            });
            
            recsEl.innerHTML = recsHTML;
        }

        function getRecommendations() {
            // Logic to return relevant products
            const recs = [];
            
            if (selections.cemetery === 'cremation') {
                recs.push({
                    category: 'Cremation Memorial',
                    title: 'Polished Desk Tablet',
                    reason: 'Perfect size for cremation gardens. Simple, elegant, and within budget.',
                    price: '£695',
                    svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="130" width="120" height="20" fill="#9ab094"/><g transform="translate(60,75)"><path d="M-40 40 L-35 -15 L35 -15 L40 40 Z" fill="#1a1a1a"/><path d="M-35 -15 L-30 -30 L30 -30 L35 -15 Z" fill="#2a2a2a"/><rect x="-45" y="40" width="90" height="10" fill="#252525"/></g></svg>`
                });
                recs.push({
                    category: 'Cremation Memorial',
                    title: 'Slant Marker',
                    reason: 'Angled design makes inscription easy to read. A popular choice.',
                    price: '£850',
                    svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="130" width="120" height="20" fill="#9ab094"/><g transform="translate(60,75)"><path d="M-40 45 L-35 -10 L35 -10 L40 45 Z" fill="#5a5a5a"/><path d="M-35 -10 L-32 -20 L32 -20 L35 -10 Z" fill="#6a6a6a"/><rect x="-45" y="45" width="90" height="8" fill="#4a4a4a"/></g></svg>`
                });
            } else if (selections.cemetery === 'kerb-allowed') {
                recs.push({
                    category: 'Kerb Set',
                    title: 'Full Cover Kerb Set',
                    reason: 'Maximises your plot with full surround. Premium finish throughout.',
                    price: '£3,200',
                    svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="120" width="120" height="30" fill="#9ab094"/><g transform="translate(60,80)"><rect x="-50" y="10" width="100" height="45" fill="#2a2a2a"/><rect x="-45" y="15" width="90" height="35" fill="#3a3a3a"/><path d="M-25 10 L-25 -25 Q-25 -40 -15 -48 Q0 -58 15 -48 Q25 -40 25 -25 L25 10 Z" fill="#1a1a1a"/></g></svg>`
                });
                recs.push({
                    category: 'Kerb Set',
                    title: 'Kerb Set with Vase',
                    reason: 'Includes built-in flower vase. Beautiful and practical.',
                    price: '£2,800',
                    svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="120" width="120" height="30" fill="#9ab094"/><g transform="translate(60,80)"><rect x="-50" y="10" width="100" height="40" fill="#2a2a2a"/><path d="M-22 10 L-22 -22 Q-22 -35 -12 -42 Q0 -50 12 -42 Q22 -35 22 -22 L22 10 Z" fill="#1a1a1a"/><ellipse cx="35" cy="8" rx="8" ry="4" fill="#252525"/><path d="M30 8 L33 -8 L37 -8 L40 8" fill="#2a2a2a"/></g></svg>`
                });
            } else {
                // Lawn or not sure - show headstones
                if (selections.style === 'unique') {
                    recs.push({
                        category: 'Heart Memorial',
                        title: 'Single Heart on Base',
                        reason: 'A beautiful, distinctive shape that stands out with love.',
                        price: '£1,650',
                        svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="125" width="120" height="25" fill="#9ab094"/><g transform="translate(60,70)"><path d="M0 50 C-35 25 -50 -10 -30 -32 C-12 -52 0 -38 0 -22 C0 -38 12 -52 30 -32 C50 -10 35 25 0 50 Z" fill="#1a1a1a"/><rect x="-35" y="52" width="70" height="14" fill="#252525"/></g></svg>`
                    });
                    recs.push({
                        category: 'Book Memorial',
                        title: 'Open Book on Plinth',
                        reason: 'Tell their story with this distinctive book design.',
                        price: '£1,850',
                        svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="125" width="120" height="25" fill="#9ab094"/><g transform="translate(60,72)"><rect x="-3" y="-30" width="6" height="50" fill="#252525"/><path d="M-3 -30 L-3 20 Q-25 23 -48 15 L-48 -35 Q-25 -40 -3 -30" fill="#1a1a1a"/><path d="M3 -30 L3 20 Q25 23 48 15 L48 -35 Q25 -40 3 -30" fill="#1a1a1a"/><rect x="-55" y="25" width="110" height="12" fill="#2a2a2a"/><rect x="-60" y="37" width="120" height="15" fill="#252525"/></g></svg>`
                    });
                } else {
                    recs.push({
                        category: 'Lawn Headstone',
                        title: 'Classic Ogee Top',
                        reason: 'Our most popular choice. Timeless design that suits any setting.',
                        price: '£1,450',
                        svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="125" width="120" height="25" fill="#9ab094"/><g transform="translate(60,70)"><path d="M-38 55 L-38 -25 Q-38 -48 -25 -58 Q0 -75 25 -58 Q38 -48 38 -25 L38 55 Z" fill="#1a1a1a"/><rect x="-44" y="55" width="88" height="12" fill="#252525"/></g></svg>`
                    });
                    recs.push({
                        category: 'Lawn Headstone',
                        title: 'Square Top Contemporary',
                        reason: 'Clean, modern lines. Best value in our range.',
                        price: '£1,400',
                        svg: `<svg viewBox="0 0 120 150"><rect width="120" height="150" fill="#d4cfc6"/><rect x="0" y="125" width="120" height="25" fill="#9ab094"/><g transform="translate(60,70)"><rect x="-32" y="-50" width="64" height="100" fill="#1a1a1a" rx="2"/><rect x="-38" y="50" width="76" height="10" fill="#252525"/></g></svg>`
                    });
                }
            }
            
            return recs;
        }
    </script>
</body>
</html>
